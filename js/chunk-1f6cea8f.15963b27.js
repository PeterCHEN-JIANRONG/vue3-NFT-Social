(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f6cea8f"],{"0268":function(e,t,o){"use strict";o("b3ec")},"5a24":function(e,t,o){"use strict";o("b3c8")},b3c8:function(e,t,o){},b3ec:function(e,t,o){},e4f9:function(e,t,o){"use strict";o.r(t);o("99af"),o("c740"),o("a434"),o("b0c0"),o("d3b7");var c=o("7a23"),n=o("75dd"),r=o.n(n),a=o("6c02"),l=o("040f"),d=o("f439"),u=o("ea6d"),s=o("f832"),b=o("f286"),i=function(e){return Object(c["pushScopeId"])("data-v-30948ce0"),e=e(),Object(c["popScopeId"])(),e},p={class:"follow bg-white d-flex border border-2 border-dark mb-3"},v={class:"follow__img"},f=["src","alt"],j={key:1,src:r.a,class:"h-6s h-md-7s img-cover border-end border-2 border-dark"},m={class:"flex-grow-1 d-flex justify-content-between align-items-center p-3"},O={class:"fw-bold mb-1"},k={class:"mb-0"},h={key:0},w={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},g=Object(c["createTextVNode"])(" 追蹤 "),E={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},V=Object(c["createTextVNode"])(" 取消追蹤 "),B=i((function(){return Object(c["createElementVNode"])("p",{class:"text-center text-muted mb-0 p-4"}," 目前尚無動態，新增一則貼文吧！ ",-1)})),N={key:1},y={setup:function(e){var t=Object(b["a"])(),o=Object(c["inject"])("axios"),n=Object(c["inject"])("$swal"),r=Object(c["ref"])([]),i=Object(c["ref"])(!1),y=Object(a["d"])(),x=Object(c["ref"])(y.params.id),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c="desc";2===e&&(c="asc"),i.value=!0;var a="".concat("https://warm-falls-13177.herokuapp.com","/posts/user/").concat(x.value,"?timeSort=").concat(c,"&q=").concat(t);o.get(a).then((function(e){r.value=e.data.data,i.value=!1})).catch((function(e){i.value=!1,n.fire(Object(s["errorAlertConstruct"])("失敗",e.response.data.message))}))};Object(c["onMounted"])((function(){_()}));var S=function(e){var t=r.value.findIndex((function(t){return t._id===e}));r.value.splice(t,1)},C=Object(c["ref"])({}),I=function(){var e="".concat("https://warm-falls-13177.herokuapp.com","/user/").concat(x.value,"/profile");o.get(e).then((function(e){C.value=e.data.data})).catch((function(e){console.log(e)}))};Object(c["onMounted"])((function(){I()}));var D=Object(c["ref"])(!1),z=function(){D.value=!0;var e="".concat("https://warm-falls-13177.herokuapp.com","/user/").concat(x.value,"/follow");o.post(e).then((function(){D.value=!1,C.value.followers.push({user:t.user._id,createdAt:(new Date).toISOString()})})).catch((function(e){D.value=!1,console.log(e)}))},M=function(){D.value=!0;var e="".concat("https://warm-falls-13177.herokuapp.com","/user/").concat(x.value,"/follow");o.delete(e).then((function(){D.value=!1;var e=C.value.followers.findIndex((function(e){return e.user===t.user._id}));C.value.followers.splice(e,1)})).catch((function(e){D.value=!1,console.log(e)}))};return Object(c["watch"])(y,(function(e){"個人頁"===e.name&&e.params.id&&(x.value=e.params.id,_(),I())})),function(e,o){var n,a,s,b=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(b,{active:i.value,"z-index":1060},null,8,["active"]),Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",v,[C.value.photo?(Object(c["openBlock"])(),Object(c["createElementBlock"])("img",{key:0,src:C.value.photo,alt:C.value.name,class:"h-6s h-md-7s img-cover border-end border-2 border-dark"},null,8,f)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("img",j))]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("p",O,Object(c["toDisplayString"])(C.value.name),1),Object(c["createElementVNode"])("p",k,Object(c["toDisplayString"])(null===(n=C.value.followers)||void 0===n?void 0:n.length)+" 人追蹤",1)]),x.value!==(null===(a=Object(c["unref"])(t).user)||void 0===a?void 0:a._id)?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",h,[null!==(s=C.value.followers)&&void 0!==s&&s.some((function(e){var o;return e.user===(null===(o=Object(c["unref"])(t).user)||void 0===o?void 0:o._id)}))?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:1,type:"button",class:"btn btn-light fw-bold border border-2 border-dark rounded-3 shadow__follow px-3 px-md-5 py-1",onClick:M},[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",E,null,512),[[c["vShow"],D.value]]),V])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,type:"button",class:"btn btn-warning fw-bold border border-2 border-dark rounded-3 shadow__follow px-3 px-md-5 py-1",onClick:z},[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",w,null,512),[[c["vShow"],D.value]]),g]))])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])(u["a"],{onGetPosts:_}),0===r.value.length?(Object(c["openBlock"])(),Object(c["createBlock"])(d["a"],{key:0},{default:Object(c["withCtx"])((function(){return[B]})),_:1})):(Object(c["openBlock"])(),Object(c["createElementBlock"])("ul",N,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.value,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e._id,class:Object(c["normalizeClass"])({"mb-3":t<r.value.length-1})},[Object(c["createVNode"])(l["a"],{post:e,onDeleteAfter:S},null,8,["post"])],2)})),128))]))],64)}}},x=(o("0268"),o("d959")),_=o.n(x);const S=_()(y,[["__scopeId","data-v-30948ce0"]]);t["default"]=S},ea6d:function(e,t,o){"use strict";var c=o("7a23"),n=(o("99af"),Object(c["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)),r=[n],a={props:{size:{type:String,default:"24"}},setup:function(e){return function(t,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:Object(c["normalizeStyle"])("width: ".concat(e.size,"px; height: ").concat(e.size,"px;"))},r,4)}}};const l=a;var d=l,u={class:"row gx-3 gy-2 mb-3"},s={class:"col-md-4"},b=Object(c["createElementVNode"])("option",{value:"1"},"最新貼文",-1),i=Object(c["createElementVNode"])("option",{value:"2"},"最舊貼文",-1),p=[b,i],v={class:"col-md-8"},f={class:"input-group border border-2 border-dark"},j=["onKeyup"],m={emits:["get-posts"],setup:function(e,t){var o=t.emit,n=Object(c["ref"])(""),r=Object(c["ref"])(1),a=function(){o("get-posts",r.value,n.value)};return function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createElementVNode"])("div",s,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select border border-2 border-dark","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.value=e}),onChange:a},p,544),[[c["vModelSelect"],r.value,void 0,{number:!0}]])]),Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("div",f,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control border-0",placeholder:"搜尋貼文","onUpdate:modelValue":t[1]||(t[1]=function(e){return n.value=e}),onKeyup:Object(c["withKeys"])(a,["enter"])},null,40,j),[[c["vModelText"],n.value]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary border-top-0 border-end-0 border-bottom-0 border-2 border-dark",type:"button",onClick:a},[Object(c["createVNode"])(d)])])])])}}};const O=m;t["a"]=O},f439:function(e,t,o){"use strict";var c=o("7a23"),n=function(e){return Object(c["pushScopeId"])("data-v-48e767d6"),e=e(),Object(c["popScopeId"])(),e},r={class:"bg-white shadow__post border border-2 border-dark"},a=n((function(){return Object(c["createElementVNode"])("div",{class:"border-bottom border-2 border-dark p-3"},[Object(c["createElementVNode"])("span",{class:"dot"})],-1)}));function l(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[a,Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0)])}o("5a24");var d=o("d959"),u=o.n(d);const s={},b=u()(s,[["render",l],["__scopeId","data-v-48e767d6"]]);t["a"]=b}}]);
//# sourceMappingURL=chunk-1f6cea8f.15963b27.js.map