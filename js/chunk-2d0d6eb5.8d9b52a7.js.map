{"version":3,"sources":["webpack:///./src/views/FrontEnd/PostView.vue","webpack:///./src/views/FrontEnd/PostView.vue?8a10"],"names":["route","useRoute","router","useRouter","postId","ref","params","id","axios","inject","Swal","post","isLoading","getPost","value","url","process","get","then","res","data","catch","err","fire","errorAlertConstruct","response","message","onMounted","watch","curr","name","__exports__"],"mappings":"oNAaA,IAAMA,EAAQC,iBACRC,EAASC,iBACTC,EAASC,iBAAIL,EAAMM,OAAOC,IAE1BC,EAAQC,oBAAO,SACfC,EAAOD,oBAAO,SACdE,EAAON,iBAAI,IACXO,EAAYP,kBAAI,GAEhBQ,EAAU,WACdD,EAAUE,OAAQ,EAClB,IAAMC,EAAM,GAAH,OAAMC,yCAAN,iBAAsCZ,EAAOU,OACtDN,EACGS,IAAIF,GACJG,MAAK,SAACC,GACLP,EAAUE,OAAQ,EAClBH,EAAKG,MAAQK,EAAIC,KAAKA,QAEvBC,OAAM,SAACC,GACNV,EAAUE,OAAQ,EAClBJ,EAAKa,KAAKC,iCAAoB,KAAMF,EAAIG,SAASL,KAAKM,c,OAI5DC,wBAAU,WACRd,OAIFe,mBAAM5B,GAAO,SAAC6B,GACM,UAAdA,EAAKC,MAAoBD,EAAKvB,OAAOC,KACvCH,EAAOU,MAAQe,EAAKvB,OAAOC,GAC3BM,Q,sXC1CJ,MAAMkB,EAAc,EAEL","file":"js/chunk-2d0d6eb5.8d9b52a7.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\" :z-index=\"1060\" />\n  <PostCard :post=\"post\" @delete-after=\"router.push('/')\" />\n</template>\n\n<script setup>\nimport {\n  ref, inject, onMounted, watch,\n} from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport PostCard from '@/components/PostCard.vue';\nimport { errorAlertConstruct } from '@/utils/alertConstructHandle';\n\nconst route = useRoute();\nconst router = useRouter();\nconst postId = ref(route.params.id); // 單筆貼文 ID\n\nconst axios = inject('axios'); // inject axios\nconst Swal = inject('$swal');\nconst post = ref({});\nconst isLoading = ref(false);\n\nconst getPost = () => {\n  isLoading.value = true;\n  const url = `${process.env.VUE_APP_API}/post/${postId.value}`;\n  axios\n    .get(url)\n    .then((res) => {\n      isLoading.value = false;\n      post.value = res.data.data;\n    })\n    .catch((err) => {\n      isLoading.value = false;\n      Swal.fire(errorAlertConstruct('失敗', err.response.data.message));\n    });\n};\n\nonMounted(() => {\n  getPost();\n});\n\n// 監聽動態路由 :id\nwatch(route, (curr) => {\n  if (curr.name === '單筆貼文頁' && curr.params.id) {\n    postId.value = curr.params.id;\n    getPost();\n  }\n});\n</script>\n","import script from \"./PostView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}